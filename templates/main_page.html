<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My scratchpad</title>

<style>
    body {
        background: #0b0d0f;
        color: #d6f6ff;
        font-family: monospace;
        margin: 0;
        padding: 0;
    }

    /* NAVBAR */
    .navbar {
        background: #000;
        padding: 12px 20px;
        font-size: 20px;
        color: #9ff7ff;
        border-bottom: 1px solid #0f3a3c;
    }

    /* TERMINAL BOX */
    .terminal-wrapper {
        display: flex;
        justify-content: center;
        margin-top: 30px;
    }

    .terminal {
        width: 85%;
        max-width: 1200px;
        height: 360px;   /* FIXED HEIGHT */
        background: #07090b;
        padding: 30px 30px 5px 30px;
        border-radius: 12px;
        border: 1px solid #0f3a3c;
        box-shadow: 0px 0px 18px #0f3a3c inset, 0px 0px 18px #0f3a3c;
        overflow: hidden;  /* PREVENT EXPANDING */
        position: relative;
    }

    /* CRT Scanlines */
    .terminal::after {
        content: "";
        pointer-events: none;
        position: absolute;
        top: 0; left: 0;
        width: 100%;
        height: 100%;
        background: repeating-linear-gradient(
            to bottom,
            rgba(0,255,255,0.04) 0px,
            rgba(0,255,255,0.04) 2px,
            rgba(0,255,255,0.03) 3px
        );
        opacity: 0.25;
    }

    #terminal-output {
        white-space: pre;
        font-size: 17px;
        line-height: 1.25;
        text-shadow: 0 0 4px #76e8ff;
        height: 100%;
        overflow-y: hidden;
        font-family: "JetBrains Mono", "DejaVu Sans Mono", "Consolas", "Courier New", monospace;
    }

    .banner-line {
        color: #9ff7ff;
        text-shadow: 0 0 12px #77e3ff;
        font-size: 22px;
        white-space: pre;
    }

    /* COMMENTS */
    .comment-box {
        width: 85%;
        max-width: 1200px;
        margin: 25px auto;
    }

    textarea {
        width: 100%;
        height: 70px;
        background: #0f1113;
        border: 1px solid #355b5c;
        color: #cfeeee;
        padding: 10px;
        font-family: monospace;
        margin-bottom: 20px;
    }

    .btn {
        background: #3bbf5b;
        border: none;
        padding: 10px 20px;
        color: black;
        cursor: pointer;
        border-radius: 4px;
        font-weight: bold;
    }
</style>
</head>

<body>

<div class="navbar">My scratchpad</div>

<!-- TERMINAL -->
<div class="terminal-wrapper">
    <div class="terminal">
        <span id="terminal-output"></span>
    </div>
</div>

<!-- COMMENTS -->
<div class="comment-box">
    {% for comment in comments %}
      <div style="margin-bottom:6px;">{{ comment.content }}</div>
    {% endfor %}

    <form action="/" method="POST">
        <textarea name="contents" placeholder="Enter a comment"></textarea>
        <br>
        <input type="submit" class="btn" value="Post comment">
    </form>
</div>

<script>
const term = document.getElementById("terminal-output");


const banner = [
"       ██╗███████╗███╗  ██╗███╗  ██╗",
"       ██║██╔════╝████╗ ██║████╗ ██║",
"       ██║█████╗  ██╔██╗██║██╔██╗██║",
"  ██   ██║██╔══╝  ██║╚████║██║╚████║",
"  ╚█████╔╝███████╗██║ ╚███║██║ ╚███║",
"   ╚════╝ ╚══════╝╚═╝  ╚══╝╚═╝  ╚══╝",
"",
"         J E N N Y   T E R M I N A L"
];

const lines = [
"$ whoami",
"Hi I'm Jenny — Cloud Security Support Engineer in training",
"> Loading profile…",
"> Access granted ✓"
];

function sleep(ms){ return new Promise(r=>setTimeout(r,ms)); }

async function type(text){
    for (let c of text){
        term.innerHTML += c;
        await sleep(12);
    }
    term.innerHTML += "\n";
}

async function run(){
    term.innerHTML = "";

    banner.forEach(line => {
        term.innerHTML += `<span class="banner-line">${line}</span>\n`;
    });

    await sleep(150);

    // Type terminal lines
    for (let l of lines){
        await type(l);
        await sleep(120);
    }
}

run();
setInterval(run, 7000);
</script>

</body>
</html>
